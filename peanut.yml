apiversion: v2
kind: package
name: github.com/antha-lang/elements
version: 0.0.2
build:
  baseimage: docker.synthace.com/synthace/golang:1.7-wheezy
  morelines:
  - RUN apt-get update && apt-get install -y libglpk-dev libsqlite3-dev libopencv-dev
  volumes:
  - /certs
  commands:
  - tar -C /etc/ssl/certs --dereference --hard-dereference -cz -f - . | tar -C /certs -xz -f -
  - make -C /go/src/github.com/antha-lang/elements check
modules:
  golang:
    deploypackage: github.com/antha-lang/elements/cmd/antharun
    dependson:
    - github.com/antha-lang/antha
    testpackages:
    - ~vendor
    image:
      copyhostpaths:
      - github.com/antha-lang/elements:workflows:/root/workflows
      copyvolumes:
      - github.com/antha-lang/elements:/certs:/etc/ssl/certs
